<!-- header 开始 -->
<link href="/${res}/css/header.css" rel="stylesheet"/>
<div class="header">
    <div class="container">
        <img src="/${res}/imgs/logo.png" class="logo">
        <div class="nav" id="navigationBar">
            [@cms_channel_list]
            [#if !channel??]
            <div class="item"><a href="${base}/" class="tt on">首页</a></div>
            [#list tag_list as c]
            [#if c_index<5]
            <div class="item">
                <a href="${c.url}" class="tt" data-target="#menu_${c.id}">${c.name}</a>
            </div>
            [/#if]
            [/#list]
            [#else]
            <div class="item"><a href="${base}/" class="tt">首页</a></div>
            [#list tag_list as c]
            [#if c_index<5]
            <div class="item">
                [#if channel.parentId??]
                <a href="${c.url}" class="tt[#if channel.parentId==c.id] on[/#if]" data-target="#menu_${c.id}">${c.name}</a>
                [#else]
                <a href="${c.url}" class="tt[#if channel.id==c.id] on[/#if]" data-target="#menu_${c.id}">${c.name}</a>
                [/#if]
            </div>
            [/#if]
            [/#list]
            [/#if]
            [/@cms_channel_list]
        </div>
    </div>
    [@cms_channel_list]
    [#list tag_list as c]
    [@cms_channel_list parentId=c.id]
    [#if tag_list?size>0]
    <div class="menu" id="menu_${c.id}">
        <div class="container">
            [#list tag_list as c2]
            <a href="${c2.url}" class="tt">${c2.name}</a>
            [/#list]
        </div>
    </div>
    [/#if]
    [/@cms_channel_list]
    [/#list]
    [/@cms_channel_list]
</div>
<script>
  var mt = null
  $('#navigationBar a.tt').each(function (e) {
    $(this).hover(function () {
      $($(this).data('target')).addClass('active').siblings().removeClass('active');
    }, function () {
      var $this = $(this);
      mt = setTimeout(function () {
        $($this.data('target')).removeClass('active')
        clearTimeout(mt);
      },200)
    })
  })
  $('.menu').each(function (e) {
    $(this).hover(function () {
      clearTimeout(mt);
      $(this).addClass('active')
    }, function () {
      clearTimeout(mt);
      $(this).removeClass('active')
    })
  })
</script>